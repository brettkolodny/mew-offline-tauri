(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-f46eb17e"],{7961:function(t,e,n){},"8bbed":function(t,e,n){"use strict";n("7961")},b63b:function(t,e,n){"use strict";n.r(e);var s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("v-dialog",{attrs:{value:t.open,"max-width":"330"},on:{"click:outside":t.reset}},[n("div",{staticClass:"white pa-7"},[1===t.step?n("div",{staticClass:"full-width"},[n("div",{staticClass:"mew-heading-2 mb-10"},[t._v("Add custom token")]),n("mew-input",{attrs:{value:t.contractAddress,placeholder:"Contract address"},on:{input:t.setContractAddress}})],1):t._e(),2===t.step?n("div",{staticClass:"full-width"},t._l(t.tokenDataToDisplay,(function(e,s){return n("div",{key:s,staticClass:"mb-9",class:[!t.tokenDataToDisplay[s+1]||t.isIcon(t.tokenDataToDisplay[s+1].name)||t.tokenDataToDisplay[s+1].value?"mb-9":"mb-1"],attrs:{"no-gutters":""}},[n("div",{staticClass:"textLight--text mew-body font-weight-bold align-self-center"},[t._v(" "+t._s(e.name)+" ")]),n("div",{staticClass:"textDark--text"},[t.isIcon(e.name)||t.isContractAddress(e.name)||t.isSymbol(e.name)||!e.value?t._e():n("span",[t._v(" "+t._s(e.value)+" ")]),t.isContractAddress(e.name)?n("mew-transform-hash",{attrs:{"justify-start":"",hash:e.value}}):t._e(),t.isIcon(e.name)&&e.value?n("img",{attrs:{height:"24px",width:"23.5px",src:e.value,alt:"token icon"}}):t._e(),t.isIcon(e.name)&&!e.value?n("div",{staticClass:"token-placeholder mew-caption d-flex align-center justify-center"},[t._v(" NA ")]):t._e(),!t.isIcon(e.name)&&!e.value||t.isSymbol(e.name)?n("mew-input",{class:t.isSymbol(e.name)?"mt-0 mb-n4":"mb-n8",attrs:{id:s,"error-messages":3===s?t.symbolLengthTooLong:t.nameLengthTooLong,value:e.value,placeholder:t.getPlaceholder(e.name)},on:{input:t.setInputValue}}):t._e()],1)])})),0):t._e(),n("div",{staticClass:"d-flex align-center mt-5"},[n("mew-button",{staticClass:"flex-grow-1 mr-1",staticStyle:{"flex-basis":"0"},attrs:{"btn-size":"large","btn-style":"outline",title:"Cancel"},nativeOn:{click:function(e){return t.reset.apply(null,arguments)}}}),n("mew-button",{staticClass:"flex-grow-1 ml-1",staticStyle:{"flex-basis":"0"},attrs:{"btn-size":"large",loading:t.loading,disabled:t.isDisabled,title:1===t.step?"Next":"Add Token"},nativeOn:{click:function(e){return t.next.apply(null,arguments)}}})],1)])])],1)},a=[],o=n("c7eb"),c=n("1da1"),i=n("5530"),r=(n("b0c0"),n("7db0"),n("d3b7"),n("99af"),n("25f0"),n("2f62")),l=n("2ef0"),d=n("901e"),u=n.n(d),h=n("1c358"),m=n("9b88"),b=n("d6fd"),k=n("ac8e"),f={props:{open:{default:!1,type:Boolean},close:{default:function(){},type:Function}},data:function(){return{contractAddress:"",customName:"",customSymbol:"",symbolLengthTooLong:"",nameLengthTooLong:"",loading:!1,step:1,token:{}}},computed:Object(i["a"])(Object(i["a"])(Object(i["a"])(Object(i["a"])(Object(i["a"])(Object(i["a"])({},Object(r["d"])("wallet",["web3","address"])),Object(r["c"])("wallet",["tokensList"])),Object(r["c"])("external",["contractToToken"])),Object(r["c"])("custom",["customTokens"])),Object(r["c"])("global",["getFiatValue"])),{},{tokenDataToDisplay:function(){return[{name:"Contract",value:this.contractAddress},{name:"Icon",value:this.token.img},{name:"Name",value:this.token.name},{name:"Symbol",value:this.token.symbol}]},isDisabled:function(){return this.loading||1===this.step&&!this.contractAddress||1===this.step&&!Object(b["a"])(this.contractAddress)||2===this.step&&(this.symbolLengthTooLong.length>0||this.nameLengthTooLong.length>0||!this.hasName||!this.hasSymbol)},hasName:function(){return this.tokenDataToDisplay[2].value||this.customName},hasSymbol:function(){return this.customSymbol}}),methods:Object(i["a"])(Object(i["a"])({},Object(r["b"])("custom",["setCustomToken"])),{},{setInputValue:Object(l["debounce"])((function(t,e){if(3==e){if(t&&t.length>8)return void(this.symbolLengthTooLong="Symbol cannot exceed 8 characters");this.symbolLengthTooLong="";var n=!1;if(this.customTokens.concat(this.tokensList).find((function(e){t!==e.symbol||(n=!0)})),n)return this.customSymbol="",void Object(m["d"])("A token with the symbol "+t+" already exists.",{},m["a"]);this.customSymbol=t}else{if(t&&t.length>24)return void(this.nameLengthTooLong="Name cannot exceed 24 characters");this.nameLengthTooLong="",this.customName=t}}),100),isContractAddress:function(t){return t===this.tokenDataToDisplay[0].name},isIcon:function(t){return t===this.tokenDataToDisplay[1].name},isSymbol:function(t){return t===this.tokenDataToDisplay[3].name},getPlaceholder:function(t){return t===this.tokenDataToDisplay[2].name?"Enter the tokenâ€™s name":"Enter up to 8 characters"},reset:function(){this.close(),this.step=1,this.token={},this.contractAddress="",this.customName="",this.customSymbol="",this.symbolLengthTooLong="",this.nameLengthTooLong="",this.loading=!1},next:function(){if(1===this.step)return this.loading=!0,void this.checkIfValidAddress();this.token.name=this.token.name?this.token.name:this.customName,this.token.symbol=this.customSymbol||this.token.symbol,this.token.contract=this.contractAddress,this.setCustomToken(this.token),Object(m["d"])("The token "+this.token.name+" was added to your token list!",{},m["c"]),this.reset()},setContractAddress:function(t){this.contractAddress=t},checkIfValidAddress:function(){var t=this;return Object(c["a"])(Object(o["a"])().mark((function e(){var n;return Object(o["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.web3.eth.getCode(t.contractAddress);case 2:n=e.sent,t.contractAddress&&Object(b["a"])(t.contractAddress)&&"0x"!==n?t.checkIfTokenExistsAlready():(t.loading=!1,t.contractAddress="",Object(m["d"])("This is not a valid contract address",{},m["a"]));case 4:case"end":return e.stop()}}),e)})))()},checkIfTokenExistsAlready:function(){var t=this,e=!1;this.customTokens.concat(this.tokensList).find((function(n){var s;t.contractAddress.toLowerCase()===(null===(s=n.contract)||void 0===s?void 0:s.toLowerCase())&&(e=!0)})),e?(this.contractAddress="",this.loading=!1,Object(m["d"])("A token with this address already exists!",{},m["a"])):this.findTokenInfo()},findTokenInfo:function(){var t=this;return Object(c["a"])(Object(o["a"])().mark((function e(){var n,s,a,c;return Object(o["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=new t.web3.eth.Contract(h["a"],t.contractAddress),t.token=t.contractToToken(t.contractAddress)||{},e.prev=2,e.next=5,n.methods.balanceOf(t.address).call();case 5:return s=e.sent,e.next=8,n.methods.decimals().call();case 8:if(a=e.sent,!t.token){e.next=15;break}c=new u.a(10).pow(a),t.token.usdBalance=new u.a(s).div(c).times(t.token.price).toString(),t.token.usdBalancef=t.getFiatValue(t.token.usdBalance)?t.getFiatValue(t.token.usdBalance):t.getFiatValue(0),e.next=23;break;case 15:return e.next=17,n.methods.name().call();case 17:return t.token.name=e.sent,e.next=20,n.methods.symbol().call();case 20:t.token.symbol=e.sent,t.token.usdBalancef="0.00",t.token.contract=t.contractAddress;case 23:t.token.decimals=parseInt(a),t.token.balance=s,t.token.balancef=t.getTokenBalance(s,a).value,t.loading=!1,t.step=2,e.next=37;break;case 30:e.prev=30,e.t0=e["catch"](2),t.token.contract=t.contractAddress,t.token.balancef="0",t.token.usdBalancef="0.00",t.loading=!1,t.step=2;case 37:case"end":return e.stop()}}),e,null,[[2,30]])})))()},getTokenBalance:function(t,e){var n=new u.a(t);return e&&(n=n.div(new u.a(10).pow(e)),n=Object(k["c"])(n)),n}})},g=f,p=(n("8bbed"),n("2877")),v=Object(p["a"])(g,s,a,!1,null,"91624004",null);e["default"]=v.exports},d6fd:function(t,e,n){"use strict";n.d(e,"a",(function(){return o})),n.d(e,"b",(function(){return c}));var s=n("99e5"),a=n.n(s),o=function(t){return t&&a.a.utils.isHexStrict(t)&&a.a.utils.isAddress(t)},c=function(t){return a.a.utils.toChecksumAddress(t)}}}]);
//# sourceMappingURL=../sourcemaps/js/chunk-f46eb17e.a71fd6e6.js.map