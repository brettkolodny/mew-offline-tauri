(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3ee50662"],{3929:function(t,e,a){"use strict";a("f2f4")},"3c4b":function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"mx-auto pb-3",staticStyle:{"max-width":"550px"}},[a("div",{staticClass:"mew-heading-2 py-8 text-center"},[t._v("Review and stake")]),a("v-row",{attrs:{dense:""}},t._l(t.details,(function(e,s){return a("v-col",{key:e+s,attrs:{cols:"12",sm:"6"}},[a("div",{staticClass:"greyLight pa-5 d-flex align-center rounded-lg"},[a("div",{staticClass:"mr-3 mt-1"},[a("img",{attrs:{src:e.img,height:"25",alt:"eth icon"}})]),a("div",[a("div",{staticClass:"textLight--text text-uppercase detail-subtitle font-weight-medium"},[t._v(" "+t._s(e.subtitle)+" ")]),a("div",{staticClass:"mew-heading-4 detail-title"},[t._v(t._s(e.title))]),e.isAddress?a("mew-transform-hash",{staticClass:"mew-hash-container textLight--text font-weight-medium",attrs:{hash:e.desc}}):t._e(),e.isAddress?t._e():a("div",{staticClass:"textLight--text"},[t._v(" "+t._s(e.desc)+" ")])],1)])])})),1),a("div",{staticClass:"mt-5"},t._l(t.fees,(function(e,s){return a("div",{key:e+s,staticClass:"d-block d-sm-flex align-center justify-space-between mb-3 mb-sm-2"},[a("div",{staticClass:"mew-caption textLight--text"},[t._v(t._s(e.title))]),a("div",[t._v(" "+t._s(e.ethValue)+" "),a("span",{staticClass:"textLight--text"},[t._v("ETH /")]),t._v(" "+t._s(e.fiatValue)+" ")])])})),0),a("div",{staticClass:"mt-11 mt-sm-10 pa-5 greyLight"},[a("mew-checkbox",{staticClass:"mb-4",attrs:{dense:"","class-name":"textMedium--text",label:"I understand that Staking is currently a one-way-street and won't be able to get my fund back until an unknown date in the future when transfers are enabled in Eth2."},model:{value:t.firstCondition,callback:function(e){t.firstCondition=e},expression:"firstCondition"}}),a("mew-checkbox",{attrs:{dense:"","class-name":"textMedium--text",label:"I understand that staking involves slashing risks and my funds can be lost."},model:{value:t.secondCondition,callback:function(e){t.secondCondition=e},expression:"secondCondition"}}),a("mew-checkbox",{attrs:{dense:"","class-name":"textMedium--text"},scopedSlots:t._u([{key:"contentSlot",fn:function(){return[a("span",[t._v("I have read and agreed to "),a("a",{attrs:{href:"https://staked.us/terms/",target:"_blank"}},[t._v("Staked.us")]),t._v(" terms of service. This Staking feature is provided by Staked.us, and MEW is not liable for it's services.")])]},proxy:!0}]),model:{value:t.thirdCondition,callback:function(e){t.thirdCondition=e},expression:"thirdCondition"}})],1),a("border-block",{staticClass:"mt-6 mx-md-2 text-center rounded-lg pa-6"},[1===t.stakedStep?a("div",[a("div",{class:["mx-auto",t.stakedStep1Title.error?"redPrimary--text":"textMedium--text"],staticStyle:{"max-width":"300px"}},[t._v(" "+t._s(t.stakedStep1Title.message)+" "),t.stakedStep1Title.showContactSupport?a("a",{staticClass:"cursor-pointer greenPrimary--text text-lowercase",attrs:{rel:"noopener noreferrer",href:"mailto:support@myetherwallet.com",target:"_blank"}},[t._v(" "+t._s(t.$t("common.contact-support"))+" ")]):t._e()]),a("mew-button",{staticClass:"mt-3",attrs:{"btn-size":"xlarge",title:"Prepare for staking",disabled:!t.firstCondition||!t.secondCondition||!t.thirdCondition},nativeOn:{click:function(e){return t.prepareToStake.apply(null,arguments)}}})],1):t._e(),2===t.stakedStep?a("div",[a("div",{staticClass:"mew-heading-4 font-weight-medium mb-2"},[t._v(" Preparing validators ")]),a("div",{staticClass:"textMedium--text mx-auto",staticStyle:{"max-width":"300px"}},[t._v(" This usually takes ~20 seconds, in rare cases it can take up to 10 min. ")]),a("div",{staticClass:"px-5"},[a("v-progress-linear",{staticClass:"mt-4 mx-auto",staticStyle:{"max-width":"350px"},attrs:{indeterminate:"",color:"greenPrimary"}})],1)]):t._e(),3===t.stakedStep?a("div",[a("v-icon",{staticClass:"mr-2",attrs:{color:"greenPrimary"}},[t._v("mdi-check-circle")]),t._v(" Ready to stake ")],1):t._e()]),a("div",{staticClass:"mt-10 d-flex flex-column-reverse flex-md-row align-center justify-center"},[a("mew-button",{staticClass:"d-block ma-2",attrs:{"has-full-width":t.$vuetify.breakpoint.smAndDown,"btn-size":"xlarge",title:"Back","btn-style":"outline"},nativeOn:{click:function(e){return t.onBack.apply(null,arguments)}}}),a("mew-button",{staticClass:"d-block ma-2",attrs:{"has-full-width":t.$vuetify.breakpoint.smAndDown,"btn-size":"xlarge",title:"Stake 32 ETH",disabled:!t.readyToStake},nativeOn:{click:function(e){return t.onReadyToStake.apply(null,arguments)}}})],1)],1)])},i=[],n=a("c7eb"),r=a("1da1"),o=a("5530"),c=(a("d3b7"),a("3ca3"),a("ddb0"),a("a9e3"),a("b680"),a("caad"),a("2532"),a("b0c0"),a("901e")),l=a.n(c),d=a("2f62"),u=a("4a2b"),h=a("ac8e"),m=a("a47c"),f=a.n(m),p=a("7f65"),v={components:{BorderBlock:function(){return a.e("chunk-4d3d9ba2").then(a.bind(null,"3b13"))}},props:{amount:{type:Number,default:0},eth2Address:{type:String,default:""},startProvision:{type:Function,default:function(){}},pollingStatus:{type:Object,default:function(){}}},data:function(){return{firstCondition:!1,secondCondition:!1,thirdCondition:!1,readyToStake:!1,serviceFees:{},stakedStep:1,stakedStep1Title:{message:"We will prepare validators for you. After that you can confirm and stake your ETH."}}},computed:Object(o["a"])(Object(o["a"])(Object(o["a"])(Object(o["a"])(Object(o["a"])({},Object(d["c"])("external",["fiatValue"])),Object(d["c"])("global",["network","getFiatValue"])),Object(d["d"])("wallet",["web3"])),Object(d["c"])("global",["gasPrice","network"])),{},{networkImg:function(){return this.network.type.icon},details:function(){return[{img:this.networkImg,subtitle:"Staking",title:this.amount+" ETH",desc:this.amountFiat},{img:f.a,subtitle:"Your Withdrawal Address",title:"Ethereum 2.0",desc:this.eth2Address,isAddress:!0}]},fees:function(){return[{title:"Network fee",ethValue:this.networkFees.eth,fiatValue:this.networkFees.fiat},{title:"Service fee",ethValue:this.serviceFees.eth,fiatValue:this.serviceFees.fiat},{title:"Total",ethValue:this.totalFees.eth,fiatValue:this.totalFees.fiat}]},networkFees:function(){var t=Object(h["a"])(this.gasPrice).value;return{eth:t,fiat:this.getFiatValue(l()(this.fiatValue).times(t))}},totalFees:function(){var t=new l.a(this.networkFees.eth).plus(this.serviceFees.eth).toFixed();return{eth:t,fiat:this.getFiatValue(new l.a(this.fiatValue).times(t).toFixed())}},validatorsCount:function(){return this.amount?new l.a(this.amount).dividedBy(32).toFixed():0},amountFiat:function(){return this.getFiatValue(new l.a(this.amount).times(this.fiatValue))}}),watch:{pollingStatus:function(t){var e;t.success?(this.stakedStep+=1,this.readyToStake=!0):(this.stakedStep-=1,406===t.error.status||null!==(e=t.error.message)&&void 0!==e&&e.includes("406")?this.stakedStep1Title={message:"Oops. We donâ€™t know how you got this far without enough ETH. Please start over and check your funds.",error:!0}:this.stakedStep1Title={message:"Something went wrong. Please try again in a few minutes. If the problem persists,",error:!0,showContactSupport:!0})}},mounted:function(){this.getServiceFees()},methods:{getServiceFees:function(){var t=this;return Object(r["a"])(Object(n["a"])().mark((function e(){var a,s,i,r;return Object(n["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=p["a"].network[t.network.type.name].batchContract,s=new t.web3.eth.Contract(u["a"],a),e.next=4,s.methods.getFees(t.amount/32).call();case 4:i=e.sent,r=Object(h["a"])(i).value,t.serviceFees={eth:r,fiat:t.getFiatValue(l()(t.fiatValue).times(r))};case 7:case"end":return e.stop()}}),e)})))()},onBack:function(){this.$emit("back")},prepareToStake:function(){this.stakedStep+=1,this.startProvision({eth2Address:this.eth2Address,count:this.validatorsCount})},onReadyToStake:function(){this.$emit("readyToStake")}}},k=v,b=(a("3929"),a("2877")),w=Object(b["a"])(k,s,i,!1,null,"d3f43f4c",null);e["default"]=w.exports},a47c:function(t,e,a){t.exports=a.p+"img/icon-colorful-eth.82aab93b.svg"},f2f4:function(t,e,a){}}]);
//# sourceMappingURL=../sourcemaps/js/chunk-3ee50662.2902c183.js.map