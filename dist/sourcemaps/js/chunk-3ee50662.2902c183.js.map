{"version":3,"sources":["webpack:///./src/dapps/staked-dapp/components/staked-stepper/staked-steps/StepFourReview.vue?041c","webpack:///./src/dapps/staked-dapp/components/staked-stepper/staked-steps/StepFourReview.vue?6389","webpack:///src/dapps/staked-dapp/components/staked-stepper/staked-steps/StepFourReview.vue","webpack:///./src/dapps/staked-dapp/components/staked-stepper/staked-steps/StepFourReview.vue?eae2","webpack:///./src/dapps/staked-dapp/components/staked-stepper/staked-steps/StepFourReview.vue","webpack:///./src/assets/images/icons/icon-colorful-eth.svg"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","staticStyle","_v","attrs","_l","detail","idx","key","img","_s","subtitle","title","desc","_e","isAddress","fee","ethValue","fiatValue","model","value","callback","$$v","firstCondition","expression","secondCondition","scopedSlots","_u","fn","proxy","thirdCondition","stakedStep","class","stakedStep1Title","error","message","$t","nativeOn","$event","prepareToStake","apply","arguments","$vuetify","breakpoint","smAndDown","onBack","readyToStake","onReadyToStake","staticRenderFns","components","BorderBlock","props","amount","type","default","eth2Address","startProvision","pollingStatus","data","serviceFees","computed","mapGetters","mapState","networkImg","details","fees","networkFees","eth","fiat","totalFees","plus","toFixed","validatorsCount","amountFiat","watch","newVal","showContactSupport","mounted","methods","getServiceFees","batchContract","configNetworkTypes","contract","feesWEI","feesETH","count","component","module","exports"],"mappings":"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BACAE,mBACAC,yBACAC,sBAEA,CACAJ,QACAE,mCACAC,qBACAC,sBACAE,gBAQAkD,gBACA,OACA,CACArD,oBACAK,8BACAC,iCAEA,CACAN,oBACAK,8BACAC,iCAEA,CACAN,cACAK,4BACAC,iCAQAgD,uBACA,0CACA,OACAC,MACAC,uDAOAC,qBACA,oCACAC,2BACAC,UACA,OACAJ,MACAC,uBACA,8CAOAI,2BACA,mBACA,6CAEA,GAKAC,sBACA,yBACA,+CAIAC,OAMAjB,0BAIA,MAHA,WACA,mBACA,uBAEA,mBAEAkB,sBACAA,QADAA,EACAA,gDAEA,uBACAxC,QACA,uGACAD,UAGA,uBACAC,QACA,oFACAD,SACA0C,0BAMAC,mBACA,uBAEAC,SAKAC,0BAAA,gKAGA,OAFAC,EACAC,kDACAC,oCAAA,SACAA,sCAAA,OAAAC,SACAC,0BACA,eACAjB,MACAC,gDACA,0CATA,IAcAvB,kBACA,oBAKAN,0BACA,mBACA,qBACAgB,6BACA8B,8BAMAtC,0BACA,8BCvZoZ,I,wBCQhZuC,EAAY,eACd,EACA5F,EACAsD,GACA,EACA,KACA,WACA,MAIa,aAAAsC,E,8BCnBfC,EAAOC,QAAU,IAA0B,sC","file":"js/chunk-3ee50662.2902c183.js","sourcesContent":["export * from \"-!../../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./StepFourReview.vue?vue&type=style&index=0&id=d3f43f4c&prod&lang=scss&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticClass:\"mx-auto pb-3\",staticStyle:{\"max-width\":\"550px\"}},[_c('div',{staticClass:\"mew-heading-2 py-8 text-center\"},[_vm._v(\"Review and stake\")]),_c('v-row',{attrs:{\"dense\":\"\"}},_vm._l((_vm.details),function(detail,idx){return _c('v-col',{key:detail + idx,attrs:{\"cols\":\"12\",\"sm\":\"6\"}},[_c('div',{staticClass:\"greyLight pa-5 d-flex align-center rounded-lg\"},[_c('div',{staticClass:\"mr-3 mt-1\"},[_c('img',{attrs:{\"src\":detail.img,\"height\":\"25\",\"alt\":\"eth icon\"}})]),_c('div',[_c('div',{staticClass:\"textLight--text text-uppercase detail-subtitle font-weight-medium\"},[_vm._v(\" \"+_vm._s(detail.subtitle)+\" \")]),_c('div',{staticClass:\"mew-heading-4 detail-title\"},[_vm._v(_vm._s(detail.title))]),(detail.isAddress)?_c('mew-transform-hash',{staticClass:\"mew-hash-container textLight--text font-weight-medium\",attrs:{\"hash\":detail.desc}}):_vm._e(),(!detail.isAddress)?_c('div',{staticClass:\"textLight--text\"},[_vm._v(\" \"+_vm._s(detail.desc)+\" \")]):_vm._e()],1)])])}),1),_c('div',{staticClass:\"mt-5\"},_vm._l((_vm.fees),function(fee,idx){return _c('div',{key:fee + idx,staticClass:\"d-block d-sm-flex align-center justify-space-between mb-3 mb-sm-2\"},[_c('div',{staticClass:\"mew-caption textLight--text\"},[_vm._v(_vm._s(fee.title))]),_c('div',[_vm._v(\" \"+_vm._s(fee.ethValue)+\" \"),_c('span',{staticClass:\"textLight--text\"},[_vm._v(\"ETH /\")]),_vm._v(\" \"+_vm._s(fee.fiatValue)+\" \")])])}),0),_c('div',{staticClass:\"mt-11 mt-sm-10 pa-5 greyLight\"},[_c('mew-checkbox',{staticClass:\"mb-4\",attrs:{\"dense\":\"\",\"class-name\":\"textMedium--text\",\"label\":\"I understand that Staking is currently a one-way-street and won't be able to get my fund back until an unknown date in the future when transfers are enabled in Eth2.\"},model:{value:(_vm.firstCondition),callback:function ($$v) {_vm.firstCondition=$$v},expression:\"firstCondition\"}}),_c('mew-checkbox',{attrs:{\"dense\":\"\",\"class-name\":\"textMedium--text\",\"label\":\"I understand that staking involves slashing risks and my funds can be lost.\"},model:{value:(_vm.secondCondition),callback:function ($$v) {_vm.secondCondition=$$v},expression:\"secondCondition\"}}),_c('mew-checkbox',{attrs:{\"dense\":\"\",\"class-name\":\"textMedium--text\"},scopedSlots:_vm._u([{key:\"contentSlot\",fn:function(){return [_c('span',[_vm._v(\"I have read and agreed to \"),_c('a',{attrs:{\"href\":\"https://staked.us/terms/\",\"target\":\"_blank\"}},[_vm._v(\"Staked.us\")]),_vm._v(\" terms of service. This Staking feature is provided by Staked.us, and MEW is not liable for it's services.\")])]},proxy:true}]),model:{value:(_vm.thirdCondition),callback:function ($$v) {_vm.thirdCondition=$$v},expression:\"thirdCondition\"}})],1),_c('border-block',{staticClass:\"mt-6 mx-md-2 text-center rounded-lg pa-6\"},[(_vm.stakedStep === 1)?_c('div',[_c('div',{class:[\n            'mx-auto',\n            _vm.stakedStep1Title.error ? 'redPrimary--text' : 'textMedium--text'\n          ],staticStyle:{\"max-width\":\"300px\"}},[_vm._v(\" \"+_vm._s(_vm.stakedStep1Title.message)+\" \"),(_vm.stakedStep1Title.showContactSupport)?_c('a',{staticClass:\"cursor-pointer greenPrimary--text text-lowercase\",attrs:{\"rel\":\"noopener noreferrer\",\"href\":\"mailto:support@myetherwallet.com\",\"target\":\"_blank\"}},[_vm._v(\" \"+_vm._s(_vm.$t('common.contact-support'))+\" \")]):_vm._e()]),_c('mew-button',{staticClass:\"mt-3\",attrs:{\"btn-size\":\"xlarge\",\"title\":\"Prepare for staking\",\"disabled\":!_vm.firstCondition || !_vm.secondCondition || !_vm.thirdCondition},nativeOn:{\"click\":function($event){return _vm.prepareToStake.apply(null, arguments)}}})],1):_vm._e(),(_vm.stakedStep === 2)?_c('div',[_c('div',{staticClass:\"mew-heading-4 font-weight-medium mb-2\"},[_vm._v(\" Preparing validators \")]),_c('div',{staticClass:\"textMedium--text mx-auto\",staticStyle:{\"max-width\":\"300px\"}},[_vm._v(\" This usually takes ~20 seconds, in rare cases it can take up to 10 min. \")]),_c('div',{staticClass:\"px-5\"},[_c('v-progress-linear',{staticClass:\"mt-4 mx-auto\",staticStyle:{\"max-width\":\"350px\"},attrs:{\"indeterminate\":\"\",\"color\":\"greenPrimary\"}})],1)]):_vm._e(),(_vm.stakedStep === 3)?_c('div',[_c('v-icon',{staticClass:\"mr-2\",attrs:{\"color\":\"greenPrimary\"}},[_vm._v(\"mdi-check-circle\")]),_vm._v(\" Ready to stake \")],1):_vm._e()]),_c('div',{staticClass:\"mt-10 d-flex flex-column-reverse flex-md-row align-center justify-center\"},[_c('mew-button',{staticClass:\"d-block ma-2\",attrs:{\"has-full-width\":_vm.$vuetify.breakpoint.smAndDown,\"btn-size\":\"xlarge\",\"title\":\"Back\",\"btn-style\":\"outline\"},nativeOn:{\"click\":function($event){return _vm.onBack.apply(null, arguments)}}}),_c('mew-button',{staticClass:\"d-block ma-2\",attrs:{\"has-full-width\":_vm.$vuetify.breakpoint.smAndDown,\"btn-size\":\"xlarge\",\"title\":\"Stake 32 ETH\",\"disabled\":!_vm.readyToStake},nativeOn:{\"click\":function($event){return _vm.onReadyToStake.apply(null, arguments)}}})],1)],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <!--\n    ===================================================\n    Step 4: Review & Stake\n    ===================================================\n    -->\n  <div>\n    <div class=\"mx-auto pb-3\" style=\"max-width: 550px\">\n      <div class=\"mew-heading-2 py-8 text-center\">Review and stake</div>\n      <v-row dense>\n        <!--\n    ===================================================\n    Stake details\n    ===================================================\n    -->\n        <v-col\n          v-for=\"(detail, idx) in details\"\n          :key=\"detail + idx\"\n          cols=\"12\"\n          sm=\"6\"\n        >\n          <div class=\"greyLight pa-5 d-flex align-center rounded-lg\">\n            <div class=\"mr-3 mt-1\">\n              <img :src=\"detail.img\" height=\"25\" alt=\"eth icon\" />\n            </div>\n            <div>\n              <div\n                class=\"textLight--text text-uppercase detail-subtitle font-weight-medium\"\n              >\n                {{ detail.subtitle }}\n              </div>\n              <div class=\"mew-heading-4 detail-title\">{{ detail.title }}</div>\n              <mew-transform-hash\n                v-if=\"detail.isAddress\"\n                class=\"mew-hash-container textLight--text font-weight-medium\"\n                :hash=\"detail.desc\"\n              />\n              <div v-if=\"!detail.isAddress\" class=\"textLight--text\">\n                {{ detail.desc }}\n              </div>\n            </div>\n          </div>\n        </v-col>\n      </v-row>\n      <!--\n    ===================================================\n    Fees\n    ===================================================\n    -->\n      <div class=\"mt-5\">\n        <div\n          v-for=\"(fee, idx) in fees\"\n          :key=\"fee + idx\"\n          class=\"d-block d-sm-flex align-center justify-space-between mb-3 mb-sm-2\"\n        >\n          <div class=\"mew-caption textLight--text\">{{ fee.title }}</div>\n          <div>\n            {{ fee.ethValue }} <span class=\"textLight--text\">ETH /</span>\n            {{ fee.fiatValue }}\n          </div>\n        </div>\n      </div>\n      <!--\n    ===================================================\n    Terms & Conditions\n    ===================================================\n    -->\n      <div class=\"mt-11 mt-sm-10 pa-5 greyLight\">\n        <mew-checkbox\n          v-model=\"firstCondition\"\n          dense\n          class=\"mb-4\"\n          class-name=\"textMedium--text\"\n          label=\"I understand that Staking is currently a one-way-street and won't be able to get my fund back until an unknown date in the future when transfers are enabled in Eth2.\"\n        />\n        <mew-checkbox\n          v-model=\"secondCondition\"\n          dense\n          class-name=\"textMedium--text\"\n          label=\"I understand that staking involves slashing risks and my funds can be lost.\"\n        />\n        <mew-checkbox\n          v-model=\"thirdCondition\"\n          dense\n          class-name=\"textMedium--text\"\n        >\n          <template #contentSlot>\n            <span\n              >I have read and agreed to\n              <a href=\"https://staked.us/terms/\" target=\"_blank\">Staked.us</a>\n              terms of service. This Staking feature is provided by Staked.us,\n              and MEW is not liable for it's services.</span\n            >\n          </template>\n        </mew-checkbox>\n      </div>\n\n      <border-block class=\"mt-6 mx-md-2 text-center rounded-lg pa-6\">\n        <!--\n      ===================================================\n      Prepare to stake (Step 1)\n      ===================================================\n      -->\n        <div v-if=\"stakedStep === 1\">\n          <div\n            :class=\"[\n              'mx-auto',\n              stakedStep1Title.error ? 'redPrimary--text' : 'textMedium--text'\n            ]\"\n            style=\"max-width: 300px\"\n          >\n            {{ stakedStep1Title.message }}\n            <a\n              v-if=\"stakedStep1Title.showContactSupport\"\n              rel=\"noopener noreferrer\"\n              class=\"cursor-pointer greenPrimary--text text-lowercase\"\n              href=\"mailto:support@myetherwallet.com\"\n              target=\"_blank\"\n            >\n              {{ $t('common.contact-support') }}\n            </a>\n          </div>\n          <mew-button\n            btn-size=\"xlarge\"\n            class=\"mt-3\"\n            title=\"Prepare for staking\"\n            :disabled=\"!firstCondition || !secondCondition || !thirdCondition\"\n            @click.native=\"prepareToStake\"\n          ></mew-button>\n        </div>\n        <!--\n    ===================================================\n    Preparing validators (Step 2)\n    ===================================================\n    -->\n        <div v-if=\"stakedStep === 2\">\n          <div class=\"mew-heading-4 font-weight-medium mb-2\">\n            Preparing validators\n          </div>\n          <div class=\"textMedium--text mx-auto\" style=\"max-width: 300px\">\n            This usually takes ~20 seconds, in rare cases it can take up to 10\n            min.\n          </div>\n          <div class=\"px-5\">\n            <v-progress-linear\n              style=\"max-width: 350px\"\n              class=\"mt-4 mx-auto\"\n              indeterminate\n              color=\"greenPrimary\"\n            ></v-progress-linear>\n          </div>\n        </div>\n        <!--\n    ===================================================\n    Ready to stake (Step 3)\n    ===================================================\n    -->\n        <div v-if=\"stakedStep === 3\">\n          <v-icon color=\"greenPrimary\" class=\"mr-2\">mdi-check-circle</v-icon>\n          Ready to stake\n        </div>\n      </border-block>\n      <!--\n    ===================================================\n    Back & Stake buttons\n    ===================================================\n    -->\n      <div\n        class=\"mt-10 d-flex flex-column-reverse flex-md-row align-center justify-center\"\n      >\n        <mew-button\n          :has-full-width=\"$vuetify.breakpoint.smAndDown\"\n          btn-size=\"xlarge\"\n          class=\"d-block ma-2\"\n          title=\"Back\"\n          btn-style=\"outline\"\n          @click.native=\"onBack\"\n        />\n        <mew-button\n          :has-full-width=\"$vuetify.breakpoint.smAndDown\"\n          btn-size=\"xlarge\"\n          class=\"d-block ma-2\"\n          title=\"Stake 32 ETH\"\n          :disabled=\"!readyToStake\"\n          @click.native=\"onReadyToStake\"\n        >\n        </mew-button>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport BigNumber from 'bignumber.js';\nimport { mapState, mapGetters } from 'vuex';\n\nimport { ABI_GET_FEES } from '@/dapps/staked-dapp/handlers/handlerStaked';\nimport { formatBalanceEthValue } from '@/core/helpers/numberFormatHelper';\nimport iconColorfulETH from '@/assets/images/icons/icon-colorful-eth.svg';\nimport configNetworkTypes from '@/dapps/staked-dapp/handlers/configNetworkTypes';\n\nexport default {\n  components: { BorderBlock: () => import('@/components/BorderBlock') },\n  props: {\n    amount: {\n      type: Number,\n      default: 0\n    },\n    eth2Address: {\n      type: String,\n      default: ''\n    },\n    startProvision: {\n      type: Function,\n      default: () => {}\n    },\n    pollingStatus: {\n      type: Object,\n      default: () => {}\n    }\n  },\n  data() {\n    return {\n      firstCondition: false,\n      secondCondition: false,\n      thirdCondition: false,\n      readyToStake: false,\n      serviceFees: {},\n      stakedStep: 1,\n      stakedStep1Title: {\n        message:\n          'We will prepare validators for you. After that you can confirm and stake your ETH.'\n      }\n    };\n  },\n  computed: {\n    ...mapGetters('external', ['fiatValue']),\n    ...mapGetters('global', ['network', 'getFiatValue']),\n    ...mapState('wallet', ['web3']),\n    ...mapGetters('global', ['gasPrice', 'network']),\n\n    /**\n     * Returns current network eth icon\n     * @return string\n     */\n    networkImg() {\n      return this.network.type.icon;\n    },\n    /**\n     * @returns array\n     * Staking details to display (including amount and eth2 address)\n     */\n    details() {\n      return [\n        {\n          img: this.networkImg,\n          subtitle: 'Staking',\n          title: this.amount + ' ETH',\n          desc: this.amountFiat\n        },\n        {\n          img: iconColorfulETH,\n          subtitle: 'Your Withdrawal Address',\n          title: 'Ethereum 2.0',\n          desc: this.eth2Address,\n          isAddress: true\n        }\n      ];\n    },\n    /**\n     * @returns array\n     * Includes network, service fees, total\n     */\n    fees() {\n      return [\n        {\n          title: 'Network fee',\n          ethValue: this.networkFees.eth,\n          fiatValue: this.networkFees.fiat\n        },\n        {\n          title: 'Service fee',\n          ethValue: this.serviceFees.eth,\n          fiatValue: this.serviceFees.fiat\n        },\n        {\n          title: 'Total',\n          ethValue: this.totalFees.eth,\n          fiatValue: this.totalFees.fiat\n        }\n      ];\n    },\n    /**\n     * @returns object\n     * Network fees in ETH and fiat\n     */\n    networkFees() {\n      const gasPriceETH = formatBalanceEthValue(this.gasPrice).value;\n      return {\n        eth: gasPriceETH,\n        fiat: this.getFiatValue(BigNumber(this.fiatValue).times(gasPriceETH))\n      };\n    },\n    /**\n     * @returns object\n     * Total fees in ETH and fiat\n     */\n    totalFees() {\n      const totalETH = new BigNumber(this.networkFees.eth)\n        .plus(this.serviceFees.eth)\n        .toFixed();\n      return {\n        eth: totalETH,\n        fiat: this.getFiatValue(\n          new BigNumber(this.fiatValue).times(totalETH).toFixed()\n        )\n      };\n    },\n    /**\n     * @returns how many validators are needed to stake x amount of eth\n     */\n    validatorsCount() {\n      if (this.amount) {\n        return new BigNumber(this.amount).dividedBy(32).toFixed();\n      }\n      return 0;\n    },\n    /**\n     * @returns eth staking amount in fiat\n     */\n    amountFiat() {\n      return this.getFiatValue(\n        new BigNumber(this.amount).times(this.fiatValue)\n      );\n    }\n  },\n  watch: {\n    /**\n     * Watches the status of polling\n     * if successful -> then its ready to stake\n     * else will error out\n     */\n    pollingStatus(newVal) {\n      if (newVal.success) {\n        this.stakedStep += 1;\n        this.readyToStake = true;\n      } else {\n        this.stakedStep -= 1;\n        if (\n          newVal.error.status === 406 ||\n          newVal.error.message?.includes('406')\n        ) {\n          this.stakedStep1Title = {\n            message:\n              'Oops. We don’t know how you got this far without enough ETH. Please start over and check your funds.',\n            error: true\n          };\n        } else {\n          this.stakedStep1Title = {\n            message:\n              'Something went wrong. Please try again in a few minutes. If the problem persists,',\n            error: true,\n            showContactSupport: true\n          };\n        }\n      }\n    }\n  },\n  mounted() {\n    this.getServiceFees();\n  },\n  methods: {\n    /**\n     * @returns object\n     * Gets service fees (calls contract and abi to get exact fee)\n     */\n    async getServiceFees() {\n      const batchContract =\n        configNetworkTypes.network[this.network.type.name].batchContract;\n      const contract = new this.web3.eth.Contract(ABI_GET_FEES, batchContract);\n      const feesWEI = await contract.methods.getFees(this.amount / 32).call();\n      const feesETH = formatBalanceEthValue(feesWEI).value;\n      this.serviceFees = {\n        eth: feesETH,\n        fiat: this.getFiatValue(BigNumber(this.fiatValue).times(feesETH))\n      };\n    },\n    /**\n     * Emits back to go to previous step\n     */\n    onBack() {\n      this.$emit('back');\n    },\n    /**\n     * Start provisioning and polling (step 1: prepare to stake)\n     */\n    prepareToStake() {\n      this.stakedStep += 1;\n      this.startProvision({\n        eth2Address: this.eth2Address,\n        count: this.validatorsCount\n      });\n    },\n    /**\n     * Sends the transaction to confirm eth stake\n     */\n    onReadyToStake() {\n      this.$emit('readyToStake');\n    }\n  }\n};\n</script>\n\n<style lang=\"scss\" scoped>\n.mew-hash-container {\n  width: 160px;\n}\n.detail-subtitle {\n  font-size: 0.714rem; //font-size: 10px\n}\n.detail-title {\n  font-weight: 600;\n}\n</style>\n","import mod from \"-!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../../node_modules/babel-loader/lib/index.js!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./StepFourReview.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../../node_modules/babel-loader/lib/index.js!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./StepFourReview.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./StepFourReview.vue?vue&type=template&id=d3f43f4c&scoped=true&\"\nimport script from \"./StepFourReview.vue?vue&type=script&lang=js&\"\nexport * from \"./StepFourReview.vue?vue&type=script&lang=js&\"\nimport style0 from \"./StepFourReview.vue?vue&type=style&index=0&id=d3f43f4c&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"d3f43f4c\",\n  null\n  \n)\n\nexport default component.exports","module.exports = __webpack_public_path__ + \"img/icon-colorful-eth.82aab93b.svg\";"],"sourceRoot":""}